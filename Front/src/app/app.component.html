<!-- Fixed top bar -->
<header class="top-bar" *ngIf="showMainLayout">
  <span class="site-name">Brexton Thomas - Home</span>
  <div class="dropdown-container">
    <button class="dropdown-toggle" aria-label="Open navigation menu">Menu</button>
    <div class="dropdown-menu">
      <button routerLink="/">Home</button>
      <button routerLink="/portfolio">View Portfolio</button>
      <button routerLink="/about">About Me</button>
      <button *ngIf="!isLoggedIn" (click)="openLoginModal()">Login</button>
      <button *ngIf="!isLoggedIn" (click)="openRegisterModal()">Register</button>
      <button *ngIf="isLoggedIn" (click)="logout()">Logout</button>
    </div>
  </div>
</header>

<!-- Sidebar + Main layout -->
<div class="layout" *ngIf="showMainLayout">

  <!-- Overlapping left sidebar with photos -->
  <div class="left-sidebar">
    <img src="/family.jpg" alt="Family Photo">
    <img src="/marvel-rivals.jpg" alt="Marvel Rivals">
    <img src="/baby.jpg" alt="Baby">
    <img src="/dog.jpg" alt="Dog">
    <img src="/bit.jpg" alt="Bitcoin">
  </div>

  <!-- Main content area -->
  <div class="main-content">
    <div class="blur-overlay">
      <div class="welcome-text">
        Welcome to my world â€” discover my projects, and passions
      </div>

      <!-- Charts -->
      <div class="chart-row">
        <div class="chart-card">
          <h3>Bitcoin (BTC)</h3>
          <app-btc-chart></app-btc-chart>
        </div>
        <div class="chart-card">
          <h3>Ethereum (ETH)</h3>
          <app-eth-chart></app-eth-chart>
        </div>
      </div>

      <!-- Social Links -->
      <div class="social-links">
        <a class="github-link" href="https://github.com/brexton14" target="_blank">
          <img ngSrc="/github-icon.svg" alt="GitHub" width="18" style="vertical-align: middle; margin-right: 6px;"
                                                                                        height="18">Projects On GitHub!</a> |
        <a class="github-link" href="https://www.linkedin.com/in/brexton-thomas-b788a0326/" target="_blank">
          <img ngSrc="/LinkedIn-Icon.svg" alt="GitHub" width="18" style="vertical-align: middle; margin-right: 6px;"
               height="18">Connect on LinkedIn!</a>
      </div>
    </div>
  </div>
</div>

<!-- Angular router outlet -->
<router-outlet></router-outlet>

<!-- Register modal -->
<div class="register-overlay" *ngIf="showRegisterModal" (click)="closeRegisterModal()">
  <div class="login-popup" (click)="$event.stopPropagation()">
    <app-register></app-register>
  </div>
</div>

<!-- Login modal -->
<div class="login-overlay" *ngIf="showLoginModal" (click)="closeLoginModal()">
  <div class="login-popup" (click)="$event.stopPropagation()">
    <app-login></app-login>
  </div>
</div>
